INCLUDE_DIRECTORIES(
    ${CMAKE_SOURCE_DIR}
    ${CMAKE_SOURCE_DIR}/scribus
)

SET(IMPORTWPG_PLUGIN_MOC_CLASSES
    importwpg.h
    importwpgplugin.h
  )
SET(IMPORTWPG_PLUGIN_SOURCES
    importwpg.cpp
    importwpgplugin.cpp
  )
SET(SCRIBUS_IMPORTWPG_PLUGIN "importwpg")
IF(USE_QT5)
	QT5_WRAP_CPP(IMPORTWPG_PLUGIN_MOC_SOURCES ${IMPORTWPG_PLUGIN_MOC_CLASSES})
ELSE(USE_QT5)
	QT4_WRAP_CPP(IMPORTWPG_PLUGIN_MOC_SOURCES ${IMPORTWPG_PLUGIN_MOC_CLASSES})
ENDIF(USE_QT5)
ADD_LIBRARY(${SCRIBUS_IMPORTWPG_PLUGIN} MODULE ${IMPORTWPG_PLUGIN_SOURCES} ${IMPORTWPG_PLUGIN_MOC_SOURCES})
TARGET_LINK_LIBRARIES(${SCRIBUS_IMPORTWPG_PLUGIN} ${PLUGIN_LIBRARIES})
INSTALL(TARGETS ${SCRIBUS_IMPORTWPG_PLUGIN}
    LIBRARY
    DESTINATION ${PLUGINDIR}
    PERMISSIONS ${PLUGIN_PERMISSIONS}
)
ADD_DEPENDENCIES(${SCRIBUS_IMPORTWPG_PLUGIN} ${EXE_NAME})
